var app;app=angular.module("yapp"),app.controller("RestaurantesController",["$scope","$http",function(r,e){return r.title="Restaurantes",r.restaurantes=new Array,e.get(base+"/restaurantes/all").then(function(e){return r.restaurantes=e.data}),r.remove=function(t){return e.delete(base+"/restaurantes/delete?id="+encodeURIComponent(t)).then(function(e){if(e.data.status)return r.restaurantes=r.restaurantes.filter(function(r){return r.id!==t})})}}]),app.controller("RestaurantController",["$scope","$http","$routeParams","$window","$rootScope",function(r,e,t,a,o){var n;return r.restaurante={},r.restaurante.horarios=r.initHorarios,n=!!t.id,n&&e.get(base+"/restaurantes/"+t.id).then(function(e){var t;return r.restaurante=e.data,t=r.restaurante.horarios,r.restaurante.horarios=t.length>0?t:r.initHorarios}),r.save=function(){return e.put(base+"/restaurantes/save",r.restaurante).then(function(r){if(n?"":"/edit/"+r.data.row,r.data.status)return a.location.href="#!/restaurantes"})},r.addHorario=function(e){return r.restaurante.horarios[e].horarios.push({apertura:"",cierre:""})},r.removeHorario=function(e,t){return r.restaurante.horarios[e].horarios=r.restaurante.horarios[e].horarios.filter(function(a){return a!==r.restaurante.horarios[e].horarios[t]})},r.initHorarios=[{id:1,nombre:"Domingo",checked:!1,horarios:[]},{id:2,nombre:"Lunes",checked:!1,horarios:[]},{id:3,nombre:"Martes",checked:!1,horarios:[]},{id:4,nombre:"Miercoles",checked:!1,horarios:[]},{id:5,nombre:"Jueves",checked:!1,horarios:[]},{id:6,nombre:"Viernes",checked:!1,horarios:[]},{id:7,nombre:"SÃ¡bado",checked:!1,horarios:[]}],r.updateHorario=function(){}}]);